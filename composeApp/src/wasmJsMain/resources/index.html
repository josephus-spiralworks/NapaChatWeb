<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NapaChat</title>
    <link type="text/css" rel="stylesheet" href="styles.css">
    <script type="application/javascript" src="composeApp.js"></script>
</head>
<body>
<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
    import { getAuth, sendSignInLinkToEmail } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDwOQJWuRVrPS17LFEwti5P3xlnXwbPE0I",
      authDomain: "w88-live-chat.firebaseapp.com",
      projectId: "w88-live-chat",
      appId: "1:176693926372:web:24aa55a8136d0665bd8ff1"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    window.firebaseAuth = {
      sendLoginLink: async (email) => {
        const actionCodeSettings = {
          url: window.location.href,
          handleCodeInApp: true,
        };
        try {
          await sendSignInLinkToEmail(auth, email, actionCodeSettings);
          window.localStorage.setItem('emailForSignIn', email);
          return { success: true };
        } catch (error) {
          return { success: false, error: error.message };
        }
      }
    };
</script>
</body>
</html>